<link rel="stylesheet" href="structure/prova_carosello_recensioni/style.css">

<div class="slider-container">
    <div class="slider" id="slider2">
        <div class="review">
            <div class="rec">
                <p class="name">a.deluca30</p>
                <p class="text">Servizio interessante!! Cambierei chi ha fatto il backEnd del Sito<i class="fa-solid fa-thumbs-down"></i></p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>
        <div class="review">
            <div class="rec">
                <p class="name">m.dagostinoR</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>
        <div class="review">
            <div class="rec">
                <p class="name">d.deluca30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">r.festa30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">l.rundo30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">a.parziale30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

    </div>





    <div class="slider" id="slider">
        <div class="review">
            <div class="rec">
                <p class="name">a.deluca30</p>
                <p class="text">Servizio interessante!! Cambierei chi ha fatto il backEnd del Sito<i class="fa-solid fa-thumbs-down"></i></p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>
        <div class="review">
            <div class="rec">
                <p class="name">m.dagostinoR</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>
        <div class="review">
            <div class="rec">
                <p class="name">d.deluca30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">r.festa30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>30<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">l.rundo30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

        <div class="review">
            <div class="rec">
                <p class="name">a.parziale30</p>
                <p class="text">Questa è una recensione fantastica. Molto soddisfatto del servizio!</p>
            </div>
            <p class="rating"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></p>
        </div>

    </div>

</div>

<script src="structure/prova_carosello_recensioni/script.js"></script>

<script>
        document.addEventListener('DOMContentLoaded', function () {
        const slider = document.getElementById('slider2');
        const sliderItems = slider.querySelectorAll('.review');
        let isCloning = false;

        // Funzione per clonare gli elementi dello slider
        function cloneSliderItems2() {
        if (isCloning) return; // Previene la clonazione multipla durante l'operazione
        isCloning = true;

        // Clona ciascun elemento e lo aggiunge alla fine dello slider
        sliderItems.forEach(item => {
        const clone = item.cloneNode(true); // Clona profondamente l'elemento
        slider.appendChild(clone); // Aggiunge il clone alla fine dello slider
    });

        isCloning = false;
    }

        // Funzione per controllare quando clonare e aggiungere elementi
        function checkAndCloneItems2() {
        const sliderRect = slider.getBoundingClientRect();
        const containerRect = slider.parentNode.getBoundingClientRect();

        // Se la fine dello slider è vicina alla fine del contenitore, clona gli elementi
        if (sliderRect.right < containerRect.right + 500) { // 500 è un buffer arbitrario; regola secondo necessità
        cloneSliderItems2();
    }
    }

        // Imposta l'intervallo per controllare periodicamente la necessità di clonare elementi
        setInterval(checkAndCloneItems2, 100);

        // Inizia lo scorrimento iniziale
        let initialOffset = -slider.offsetWidth; // Imposta l'offset iniziale per far partire lo slider da fuori schermo a sinistra
        function startScrolling2() {
        initialOffset += 1; // Incrementa l'offset per muovere lo slider verso destra

        // Applica la trasformazione allo slider per spostarlo
        slider.style.transform = `translateX(${initialOffset}px)`;

        // Se lo slider è completamente scorso, resetta l'offset per ripetere lo scorrimento
        if (initialOffset >= 0) {
        initialOffset = -slider.offsetWidth;
        // Potresti voler ricalcolare l'offset basato sulla larghezza aggiornata se gli elementi sono stati clonati
    }

        requestAnimationFrame(startScrolling2);
    }

        startScrolling2();
    });
</script>